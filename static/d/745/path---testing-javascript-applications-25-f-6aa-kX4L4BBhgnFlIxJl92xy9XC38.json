{"data":{"site":{"siteMetadata":{"title":"<Blog />","author":"Colin Cummings"}},"markdownRemark":{"id":"d22631a7-9d75-5ecf-83a1-de339aeeed5e","excerpt":"In 2018, I doubled down on my testing game. Going into the year, I was primarily writing  unit tests , with  Jasmine  as my go-to test runner. In backend tests…","html":"<p>In 2018, I doubled down on my testing game. Going into the year, I was primarily writing <a href=\"ttps://en.wikipedia.org/wiki/Unit_testing\">unit tests</a>, with <a href=\"https://jasmine.github.io/\">Jasmine</a> as my go-to test runner. In backend tests I was using <a href=\"https://sinonjs.org/\">Sinon</a> for spies, stubs and mocks; in frontend tests I was using Sinon in addition to <a href=\"https://airbnb.io/enzyme/\">Enzyme</a> for testing <a href=\"https://reactjs.org/\">React</a> components. I was also using an <a href=\"https://eslint.org/\">ESLint</a> editor plugin with a rigorous set of rules. While this was all—in theory—“good” (the 2018 Frontend Tooling Survey showed that 75% of respondents were <a href=\"https://ashleynolan.co.uk/blog/frontend-tooling-survey-2018-results#js-linters\">using a linter</a>, but only 54% were <a href=\"https://ashleynolan.co.uk/blog/frontend-tooling-survey-2018-results#js-testing\">writing tests</a>), it ultimately ranked about halfway up both the canonical testing pyramid and <a href=\"https://twitter.com/kentcdodds\">Kent C. Dodds’</a> revamped testing trophy:</p>\n<figure class=\"gatsbyRemarkImagesGrid\"><div class=\"gatsbyRemarkImagesGrid-grid\" style=\"\n            grid-template-columns: repeat(auto-fill, minmax(48%, 1fr));\n          \">\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/84923c5ca3548c0ee4887eef93e05654/bf27b/testing_pyramid.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 101.32547864506627%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAECBAMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAffrXkmpAc0FRcD/AP/EABkQAAIDAQAAAAAAAAAAAAAAAAABAhAREv/aAAgBAQABBQIUtqTFqZtdH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABsQAQEBAAIDAAAAAAAAAAAAAAEAERAxIUGB/9oACAEBAAE/IYt5648WHc9GHyHSUt1CC//aAAwDAQACAAMAAAAQoM/D/8QAFxEBAAMAAAAAAAAAAAAAAAAAAQAQIf/aAAgBAwEBPxBdsZ//xAAXEQEAAwAAAAAAAAAAAAAAAAABABAR/9oACAECAQE/EA0tJ//EABwQAQADAAIDAAAAAAAAAAAAAAEAESExQRBhof/aAAgBAQABPxDiNBDbp8Md4QwjPZ35ABOGIFq1g6q291WVYqp//9k='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Testing pyramid\"\n        title=\"\"\n        src=\"/static/84923c5ca3548c0ee4887eef93e05654/f8fb9/testing_pyramid.jpg\"\n        srcset=\"/static/84923c5ca3548c0ee4887eef93e05654/e8976/testing_pyramid.jpg 148w,\n/static/84923c5ca3548c0ee4887eef93e05654/63df2/testing_pyramid.jpg 295w,\n/static/84923c5ca3548c0ee4887eef93e05654/f8fb9/testing_pyramid.jpg 590w,\n/static/84923c5ca3548c0ee4887eef93e05654/bf27b/testing_pyramid.jpg 679w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/180315b765f1b8180bcc5625e930032b/bf27b/testing_trophy.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 101.32547864506627%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMEAgX/xAAWAQEBAQAAAAAAAAAAAAAAAAACAwD/2gAMAwEAAhADEAAAAdkPSkz00jkiFLix/8QAGxAAAwEAAwEAAAAAAAAAAAAAAQIDAAQQESH/2gAIAQEAAQUCpyD6tyMlwVaKsRFTlUKGw+df/8QAGREAAQUAAAAAAAAAAAAAAAAAAAEQISIx/9oACAEDAQE/AbkiY3//xAAZEQACAwEAAAAAAAAAAAAAAAAAAhARITL/2gAIAQIBAT8BtDBuo//EABkQAAIDAQAAAAAAAAAAAAAAAAARASExIP/aAAgBAQAGPwKVhRejRgo4/8QAGxABAAMBAAMAAAAAAAAAAAAAAQARIUEQYaH/2gAIAQEAAT8hpBod7EtS7FPQjR6Y9v1K+0RUTTPH/9oADAMBAAIAAwAAABAoN3z/xAAbEQACAQUAAAAAAAAAAAAAAAABEQAQIUGR8P/aAAgBAwEBPxDJHtQBLmp//8QAGREBAAMBAQAAAAAAAAAAAAAAAQARIRAx/9oACAECAQE/EPCzYtsI3j//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMRBBYXHR/9oACAEBAAE/ECllVtb5LXYuxtGUhJpESFAMy2gxQAHhQEcc+2MIdsxVOXtXj//Z'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Testing trophy\"\n        title=\"\"\n        src=\"/static/180315b765f1b8180bcc5625e930032b/f8fb9/testing_trophy.jpg\"\n        srcset=\"/static/180315b765f1b8180bcc5625e930032b/e8976/testing_trophy.jpg 148w,\n/static/180315b765f1b8180bcc5625e930032b/63df2/testing_trophy.jpg 295w,\n/static/180315b765f1b8180bcc5625e930032b/f8fb9/testing_trophy.jpg 590w,\n/static/180315b765f1b8180bcc5625e930032b/bf27b/testing_trophy.jpg 679w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n</div></figure>\n<p>Code was being tested, but not necessarily <em>well</em> tested. <a href=\"https://en.wikipedia.org/wiki/Integration_testing\">Integration tests</a> were minimal; <a href=\"https://en.wikipedia.org/wiki/Software_testing#System_testing\">end-to-end tests</a> were missing. Code was being <a href=\"https://en.wikipedia.org/wiki/Lint_(software)\">linted</a> as it was written, but not on commit or deployment. <a href=\"https://en.wikipedia.org/wiki/Code_coverage\">Code coverage</a> wasn’t being reviewed. I tended to have more confidence in backend specs than in frontend ones, due in part to following some common Enzyme testing practices: shallow rendering, manipulating component instances (props and state) and using <a href=\"https://blog.kentcdodds.com/testing-implementation-details-ccb8d269586\">implementation details</a> to make assertions (DOM elements, class names, component display names, <em>etc</em>). Ultimately, too many of my test suites were potential meme fodder:</p>\n<figure class=\"gatsbyRemarkImagesGrid\"><div class=\"gatsbyRemarkImagesGrid-grid\" style=\"\n            grid-template-columns: repeat(auto-fill, minmax(48%, 1fr));\n          \">\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/994e80f37f28f88260c09f3736497369/db559/unit_tests_passing_meme_1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 72.8125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUE/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAclSOiqzIH//xAAaEAACAwEBAAAAAAAAAAAAAAABAgADERMi/9oACAEBAAEFAqLHL7gUhwvmVEqemT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAGxAAAgIDAQAAAAAAAAAAAAAAAAERIQIxQXH/2gAIAQEABj8CjmySUZeUW2Uj/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARITFBYaH/2gAIAQEAAT8hQ/NMtaC9Tn+JxXWPjMQLFHs40E//2gAMAwEAAgADAAAAELsP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/EI1//8QAFhEBAQEAAAAAAAAAAAAAAAAAARBR/9oACAECAQE/EEyP/8QAHRABAAICAwEBAAAAAAAAAAAAAQARIUExUWGRwf/aAAgBAQABPxBUoMQV7ozLj1UgC4NQRl4N6eokq7GKFKT5c8Gnzh99mdtNIGsB+T//2Q=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Unit Tests Passing (meme)\"\n        title=\"\"\n        src=\"/static/994e80f37f28f88260c09f3736497369/f8fb9/unit_tests_passing_meme_1.jpg\"\n        srcset=\"/static/994e80f37f28f88260c09f3736497369/e8976/unit_tests_passing_meme_1.jpg 148w,\n/static/994e80f37f28f88260c09f3736497369/63df2/unit_tests_passing_meme_1.jpg 295w,\n/static/994e80f37f28f88260c09f3736497369/f8fb9/unit_tests_passing_meme_1.jpg 590w,\n/static/994e80f37f28f88260c09f3736497369/db559/unit_tests_passing_meme_1.jpg 640w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a85e14602119402464b27c62449bb610/db559/unit_tests_passing_meme_2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 72.8125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABxbMrRYsP/8QAGRABAQEAAwAAAAAAAAAAAAAAAgERAAMQ/9oACAEBAAEFAi0ZF3bc0jONXz//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAdEAABAwUBAAAAAAAAAAAAAAAAAREhAhASMWGh/9oACAEBAAY/AmQ34hFLi5Sct//EABkQAQEBAQEBAAAAAAAAAAAAAAERADEhcf/aAAgBAQABPyFesLeGokAduJR9DhABWR5Ji7//2gAMAwEAAgADAAAAEFQ//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8QR//EAB4QAQACAgIDAQAAAAAAAAAAAAEAESExQWFRcYGx/9oACAEBAAE/EDYoKLZ9pBYyFaVcYzNUnOxfkw4AnSP4xiyAoLM+L66gLatz/9k='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Unit Tests Passing (meme)\"\n        title=\"\"\n        src=\"/static/a85e14602119402464b27c62449bb610/f8fb9/unit_tests_passing_meme_2.jpg\"\n        srcset=\"/static/a85e14602119402464b27c62449bb610/e8976/unit_tests_passing_meme_2.jpg 148w,\n/static/a85e14602119402464b27c62449bb610/63df2/unit_tests_passing_meme_2.jpg 295w,\n/static/a85e14602119402464b27c62449bb610/f8fb9/unit_tests_passing_meme_2.jpg 590w,\n/static/a85e14602119402464b27c62449bb610/db559/unit_tests_passing_meme_2.jpg 640w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n</div></figure>\n<p>Below is an overview of my evolved strategy for testing JavaScript applications. Also take a look at the <a href=\"https://github.com/colinrcummings/testing-javascript-applications-demo\">demo repo</a> on GitHub, which puts this strategy into practice.</p>\n<p><em>nota bene</em>: Testing is an immense topic; what follows is intended to be a modest contribution. It’s written standing on the shoulders of giants (see references below). It contains opinions and suggestions; testing lacks hard and fast rules. The JavaScript ecosystem also marches on; tools come and go, and testing is no exception.</p>\n<hr>\n<h2>Guiding Principles</h2>\n<p>When performing any systematic process, it’s instructive to have a set of ideas that inform your actions throughout. Here are my guiding principles for testing:</p>\n<ul>\n<li><a href=\"https://twitter.com/rauchg/status/807626710350839808\">“Write tests. Not too many. Mostly integration.”</a></li>\n</ul>\n<p><em>Writing tests isn’t optional; it’s a prerequisite for professional software. Quality is more important than quantity. Integration tests often give you the most bang for your buck.</em></p>\n<ul>\n<li><a href=\"https://www.richardlord.net/blog/tdd/why-write-the-unittest-first.html\">“Test the interface, not the implementation.”</a></li>\n</ul>\n<p><em>The code you’re testing has as a contract; validate what it should do, not how it does that thing.</em></p>\n<ul>\n<li><a href=\"https://twitter.com/kentcdodds/status/977018512689455106\">“The more your tests resemble the way your software is used, the more confidence they can give you.”</a></li>\n</ul>\n<p><em>Testing is about building confidence in your codebase; maximize this confidence by making actions and assertions that approximate a consumer of your code.</em></p>\n<hr>\n<h2>Motivation</h2>\n<p>There are many reasons to write tests, but the biggest ones for me are:</p>\n<ul>\n<li>\n<p>Quality</p>\n<p><em>Code must work. Tests help ensure that good programing practices are followed and project requirements are met.</em></p>\n</li>\n<li>\n<p>Maintainability</p>\n<p><em>Code changes over time. Tests will save you time and energy over the life of a project.</em></p>\n</li>\n</ul>\n<p>Together, the combination of quality and maintainability enforced by a self-testing codebase provides considerable confidence when adding a feature, updating dependencies, refactoring, debugging, deploying and more.</p>\n<hr>\n<h2>Types of Tests</h2>\n<p>Not all tests are created equal. The type of test used in a given case is typically a tradeoff between cost (<em>i.e.</em> how much effort they take to configure, write and maintain) and speed (<em>i.e.</em> how long they take to run).</p>\n<h3>Static</h3>\n<p><em>Cost:</em> 💵<br>\n<em>Speed:</em> 🏎🏎🏎🏎</p>\n<p>Not tests <em>per se</em>, <a href=\"https://en.wikipedia.org/wiki/Static_program_analysis\">static analysis</a> includes <a href=\"https://en.wikipedia.org/wiki/Lint_(software)\">linting</a> and <a href=\"https://en.wikipedia.org/wiki/Type_system\">type checking</a>. Linters check code for problematic patterns or syntax that doesn’t adhere to certain style guidelines. Type checkers add syntax for specifying data types, which are then used to verify correct usage throughout the codebase.</p>\n<h3>Unit</h3>\n<p><em>Cost:</em> 💵💵<br>\n<em>Speed:</em> 🏎🏎🏎</p>\n<p>Unit tests are small in scope, validating an isolated functionality (<em>e.g.</em> a controller method). All dependencies are <a href=\"https://blog.kentcdodds.com/but-really-what-is-a-javascript-mock-10d060966f7d\">mocked</a>, which makes unit tests capable of being run in parallel, thereby increasing their speed. Unit tests are useful for covering things like branching logic and error handling in one piece of an application.</p>\n<h3>Integration</h3>\n<p><em>Cost:</em> 💵💵💵<br>\n<em>Speed:</em> 🏎🏎</p>\n<p>Integration tests are medium in scope, validating a subset of functionalities (<em>e.g.</em> an API endpoint or a UI interaction). Less dependencies are mocked than in unit tests; the amount of mocking dictates if an integration test suite can be run in parallel or serially. Integration tests are useful for covering the interaction between adjacent pieces of an application.</p>\n<h3>End-to-end</h3>\n<p><em>Cost:</em> 💵💵💵💵<br>\n<em>Speed:</em> 🏎</p>\n<p>End-to-end tests are large in scope, validating a superset of functionalities (<em>e.g.</em> simulating a pattern of user behavior in the browser). No dependencies are mocked, which requires end-to-end tests to be run serially against a running server, thereby decreasing their speed. End-to-end tests are useful for covering an application holistically.</p>\n<hr>\n<h2>Testing Tools</h2>\n<p>There is an abundance of <a href=\"https://2018.stateofjs.com/testing/conclusion/\">testing tools</a> in the JavaScript ecosystem these days. The ones mentioned below have provided me with robust solutions for each type of test.</p>\n<h3>Static</h3>\n<p>ESLint is the preeminent <a href=\"https://www.npmtrends.com/eslint-vs-standard-vs-jshint\">JavaScript linting utility</a>; pluggability is its biggest advantage. <a href=\"https://www.npmjs.com/package/eslint-config-airbnb\">eslint-config-airbnb</a> and <a href=\"https://www.npmjs.com/package/eslint-config-prettier\">eslint-config-prettier</a> are two popular configs, both of which I’ve rolled into <a href=\"https://www.npmjs.com/package/eslint-config-colinrcummings\">my own config</a>. <a href=\"https://www.npmjs.com/package/lint-staged\">lint-staged</a> is also a handy tool for adding linting to a pre-commit hook.</p>\n<p><a href=\"https://www.typescriptlang.org/\">TypeScript</a> and <a href=\"https://flow.org/\">Flow</a> are the most popular <a href=\"https://www.npmtrends.com/typescript-vs-flow-bin\">JavaScript typecheckers</a>, with TypeScript really taking off in the back half of 2018.</p>\n<p><em>nota bene</em>: At the time of writing this post, adding typechecking to a JavaScript application entails a bit more complexity than a linter (read more about some of the tradeoffs <a href=\"https://medium.com/javascript-scene/the-typescript-tax-132ff4cb175b\">here</a>); for simplicity, I didn’t include it in the demo application. I have used Flow in a few applications, but haven’t worked meaningfully with TypeScript. That being said, the <a href=\"https://github.com/Microsoft/TypeScript/issues/29288\">January - June 2019 TypeScript Roadmap</a> and projects like <a href=\"https://github.com/denoland/deno\">deno</a> are all very exciting; I plan on doing more with TypeScript this year.</p>\n<h3>Unit &#x26; Integration</h3>\n<p><a href=\"https://jestjs.io/\">Jest</a> is a batteries-included <a href=\"https://www.npmtrends.com/jest-vs-mocha-vs-jasmine-vs-karma\">test runner</a>, and it’s replaced Jasmine in my testing toolbox. Some of its best features include an easily extensible configuration, watch mode, powerful mocking capabilities and built-in <a href=\"https://istanbul.js.org/\">Istanbul</a> code coverage reporting. It’s also complemented by a number of <a href=\"https://github.com/jest-community/awesome-jest\">awesome packages and resources</a>, <a href=\"jest-dom\">jest-dom</a> being one of my favorites for frontend tests.</p>\n<p><a href=\"https://testing-library.com/react\">react-testing-library</a>, which is a React-specific wrapper around <a href=\"https://testing-library.com/\">dom-testing-library</a>, has really changed how I write frontend tests. It provides utilities that facilitate querying the DOM in the same way a user would, thereby encouraging both accessibility and good testing practices.</p>\n<h3>End-to-end</h3>\n<p><a href=\"https://www.cypress.io/\">Cypress</a> is an exceptional browser testing tool. It’s simple to install. Reading, writing and debugging tests is easy. Its documentation is best-in-class. Test suites run reliably in both a Chromium-based GUI (with time travel) and a headless CLI. <a href=\"https://testing-library.com/cypress\">cypress-testing-library</a> is a good companion, adding dom-testing-library’s methods as custom commands.</p>\n<hr>\n<h2>Mental Models</h2>\n<p>I find <a href=\"https://medium.com/@yegg/mental-models-i-find-repeatedly-useful-936f1cc405d\">mental models</a> useful for framing tasks. Here are a few that I routinely apply when writing tests:</p>\n<h3>Atoms, Elements &#x26; Organisms</h3>\n<p>Atomic theory posits that matter is made up of indivisible particles called atmos. A collection of atoms form a molecule. A collection of molecules form an organism.</p>\n<p><em>Unit test atoms. Integration test molecules. End-to-end test organisms.</em></p>\n<h3>Use Cases</h3>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Use_case\">use case</a> outlines an interaction between a user and an application. Each use case typically has a <a href=\"https://en.wikipedia.org/wiki/Happy_path\">happy path</a> and one or more <a href=\"https://en.wikipedia.org/wiki/Edge_case\">edge cases</a>.</p>\n<p><em>Cover the happy path in end-to-end tests. Cover likely edge cases in integration tests. Cover unlikely edge cases in unit tests.</em></p>\n<h3>Critical Control Points</h3>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Critical_control_point\">critical control point</a> is a step in a process where the consequences of a failure could be catastrophic.</p>\n<p><em>Thoroughly test critical control points.</em></p>\n<h3>Diminishing Returns</h3>\n<p>The law of <a href=\"https://en.wikipedia.org/wiki/Diminishing_returns\">diminishing returns</a> states that, after a certain point, adding more input actually yields less output.</p>\n<p><em>Write tests for the sake of added confidence, not added coverage.</em></p>\n<hr>\n<h2>Writing Tests</h2>\n<h3>Static</h3>\n<p>When it comes to writing tests for an application, I consider the tests themselves to be a part of the codebase. Therefore, both the source and the test code have static analysis. Tests for the source code are grouped into what <a href=\"https://twitter.com/martinfowler\">Martin Fowler</a> describes as compile and commit suites.</p>\n<h3>Unit &#x26; Integration</h3>\n<p>Comprised of unit and/or integration tests for both the frontend and the backend that can be run in parallel, the compile suite should run quickly. In the demo repo, it’s triggered by <code class=\"language-text\">npm test</code>, which runs each test once, or <code class=\"language-text\">npm run test:watch</code>, which runs tests related to changed files each time a change is made.</p>\n<h4>Backend</h4>\n<p>TODO</p>\n<h4>Frontend</h4>\n<p>TODO</p>\n<h3>End-to-end</h3>\n<p>TODO</p>\n<hr>\n<h2>Test Suites</h2>\n<h3>Precommit</h3>\n<p>TODO</p>\n<h3>Validate</h3>\n<p>TODO</p>\n<hr>\n<h2>References</h2>\n<p>TODO</p>\n<hr>\n<h2>Feedback</h2>\n<p>Have questions, comments or suggestions? Reach out to me on Twitter (<a href=\"https://twitter.com/colinrcummings\">@colinrcummings</a>).</p>\n<p>— Colin</p>","frontmatter":{"title":"Testing JavaScript Applications","date":"February 28, 2019"}}},"pageContext":{"slug":"/testing-javascript-applications/","previous":{"fields":{"slug":"/buttercup-password-manager/"},"frontmatter":{"title":"Buttercup Password Manager"}},"next":null}}